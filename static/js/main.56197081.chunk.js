(this["webpackJsonpshopify-movie-nomination"]=this["webpackJsonpshopify-movie-nomination"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var i=n(3),c=n(0),r=n.n(c),o=n(10),a=n.n(o),s=(n(33),n(6)),d=(n(34),function(){return Object(i.jsx)("h1",{style:{textAlign:"center",width:"100%"},children:"Welcome to the Shoppies!"})}),j=n(22),l=function(e){var t=e.onChange;return Object(i.jsx)(j.a.Group,{style:{width:"100%"},children:Object(i.jsx)(j.a.Control,{size:"lg",type:"text",placeholder:"Search for a movie...",onChange:function(e){t(e.target.value)}})})},h=n(13),b=n.n(h),u=n(8),m=n(57),x=function(e){var t=e.movie,n=e.nominationDisabled,c=e.addNomination;return Object(i.jsxs)("div",{style:{display:"flex",marginBottom:"30px"},children:[Object(i.jsx)("img",{width:"35%",src:t.poster,alt:"Movie Poster"}),Object(i.jsxs)("div",{style:{display:"block",width:"65%",padding:"20px"},children:[Object(i.jsx)("h3",{children:t.title}),Object(i.jsx)("p",{children:t.year}),Object(i.jsx)(m.a,{onClick:function(){return c(t)},disabled:n,children:"Nominate"})]})]},t.imdbId)},O=function(e){var t=e.query,n=Object(c.useState)([]),r=Object(s.a)(n,2),o=r[0],a=r[1],d=Object(c.useState)(!1),j=Object(s.a)(d,2),l=j[0],h=j[1],m=Object(c.useState)(""),O=Object(s.a)(m,2),p=O[0],f=O[1],y=b()("nominations",[]),v=Object(s.a)(y,2),g=v[0],w=v[1],I=function(e){var t=g.concat([e]);w(t)};return Object(c.useEffect)((function(){if(!t)return f(""),void a([]);h(!0),fetch("https://www.omdbapi.com/?s=".concat(t,"&type=movie&apikey=").concat("c27b211a"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){if("True"===e.Response){var t=e.Search.map((function(e){return{title:e.Title,year:e.Year,poster:e.Poster,imdbId:e.imdbID}}));f(""),a(t)}else"Too many results."===e.Error?f("Try a more specific query."):f(e.Error),a([]);h(!1)})).catch((function(e){console.log(e),f("Server down. Please try again!"),h(!1)}))}),[t,h,a,f]),Object(i.jsxs)(u.a,{md:"6",xs:"12",children:[l&&"Loading...",!l&&!p&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(i.Fragment,{children:o.length>=1&&Object(i.jsxs)("h2",{style:{marginBottom:"20px"},children:["Search results for ",t]})}),Object(i.jsx)(i.Fragment,{children:o.map((function(e){return Object(i.jsx)(x,{movie:e,nominationDisabled:5===g.length||void 0!==g.find((function(t){return t.imdbId===e.imdbId})),addNomination:I})}))})]}),!l&&p&&Object(i.jsx)("h3",{children:p})]})},p=n(60),f=function(e){var t=e.movie,n=e.removeNomination;return Object(i.jsxs)("div",{style:{display:"flex",marginBottom:"30px"},children:[Object(i.jsx)("img",{width:"35%",src:t.poster,alt:"Movie Poster"}),Object(i.jsxs)("div",{style:{display:"block",width:"65%",padding:"20px"},children:[Object(i.jsx)("h3",{children:t.title}),Object(i.jsx)("p",{children:t.year}),Object(i.jsx)(m.a,{variant:"danger",onClick:function(){return n(t.imdbId)},children:"Remove"})]})]},t.imdbId)},y=function(){var e=b()("nominations",[]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=function(e){var t=n.reduce((function(t,n){return n.imdbId!==e&&t.push(n),t}),[]);c(t)};return Object(i.jsxs)(u.a,{md:"6",xs:"12",children:[0!==n.length&&Object(i.jsx)("h2",{style:{marginBottom:"20px"},children:"Your Nominations"}),5===n.length&&Object(i.jsx)(p.a,{variant:"success",children:"Your nominations are full, thank you!"}),n.map((function(e){return Object(i.jsx)(f,{movie:e,removeNomination:r})}))]})},v=n(58),g=n(61),w=n(59);var I=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(i.jsxs)(v.a,{children:[Object(i.jsx)(g.a,{activeKey:"https://github.com/ArdyParty/shopify-nominator",children:Object(i.jsx)(g.a.Item,{children:Object(i.jsx)(g.a.Link,{href:"https://github.com/ArdyParty/shopify-nominator",children:"GitHub Repo"})})}),Object(i.jsx)(w.a,{style:{padding:"50px"},children:Object(i.jsx)(d,{})}),Object(i.jsx)(w.a,{style:{padding:"0 50px 50px"},children:Object(i.jsx)(l,{onChange:function(e){r(e)}})}),Object(i.jsxs)(w.a,{children:[Object(i.jsx)(O,{query:n}),Object(i.jsx)(y,{})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),r(e),o(e)}))};n(54);a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(I,{})}),document.getElementById("root")),S()}},[[55,1,2]]]);
//# sourceMappingURL=main.56197081.chunk.js.map